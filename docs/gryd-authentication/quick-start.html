<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Start - GrydAuthentication Framework</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-6 py-8">
        <div class="bg-white rounded-lg shadow-md p-8">
            <div class="flex items-center mb-6">
                <a href="index.html" class="text-green-600 hover:text-green-800 mr-4">‚Üê Voltar</a>
                <h1 class="text-3xl font-bold text-gray-800">üöÄ Quick Start</h1>
            </div>

            <div class="prose max-w-none">
                <h2>In√≠cio R√°pido</h2>
                <p>Este guia te ajudar√° a configurar e usar o GrydAuthentication Framework em poucos minutos.</p>

                <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500 my-6">
                    <h3 class="text-blue-800 font-semibold">‚è±Ô∏è Tempo Estimado</h3>
                    <p class="text-blue-700 mb-0">5-10 minutos para configura√ß√£o b√°sica</p>
                </div>

                <h2>Pr√©-requisitos</h2>
                <ul>
                    <li>.NET 8.0 ou superior</li>
                    <li>Entity Framework Core</li>
                    <li>Conta no Auth0 (para autentica√ß√£o externa)</li>
                    <li>SQL Server ou PostgreSQL</li>
                </ul>

                <h2>Passo 1: Instala√ß√£o do Pacote</h2>
                <pre><code class="language-bash"># Package Manager Console
Install-Package GrydAuthenticationFramework

# .NET CLI
dotnet add package GrydAuthenticationFramework

# PackageReference (*.csproj)
&lt;PackageReference Include="GrydAuthenticationFramework" Version="1.0.1" /&gt;</code></pre>

                <h2>Passo 2: Configura√ß√£o do appsettings.json</h2>
                <pre><code class="language-json">{
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=MyApp;Trusted_Connection=true;TrustServerCertificate=true;"
  },
  "Auth0": {
    "Domain": "seu-tenant.auth0.com",
    "Audience": "https://api.myapp.com",
    "ClientId": "seu-client-id",
    "ClientSecret": "seu-client-secret",
    "SocialProviders": {
      "Google": {
        "ClientId": "google-client-id",
        "ClientSecret": "google-client-secret"
      },
      "Facebook": {
        "AppId": "facebook-app-id",
        "AppSecret": "facebook-app-secret"
      }
    }
  },
  "Jwt": {
    "Issuer": "https://api.myapp.com",
    "Audience": "https://api.myapp.com",
    "SecretKey": "sua-secret-key-super-secreta-com-pelo-menos-256-bits",
    "ExpirationMinutes": 60,
    "RefreshTokenExpirationDays": 30
  }
}</code></pre>

                <h2>Passo 3: Configura√ß√£o do Program.cs</h2>
                <pre><code class="language-csharp">using GrydAuthenticationFramework.Extensions;

var builder = WebApplication.CreateBuilder(args);

// Adicionar servi√ßos do framework
builder.Services.AddGrydAuthentication(builder.Configuration);
builder.Services.AddAuth0Authentication(builder.Configuration);

// Configurar Entity Framework
builder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;
    options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection")));

// Adicionar controllers
builder.Services.AddControllers();

// Configurar Swagger
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

var app = builder.Build();

// Configure o pipeline
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

// Middlewares do GrydAuthentication
app.UseGrydAuthentication();

app.UseHttpsRedirection();
app.UseAuthentication();
app.UseAuthorization();

app.MapControllers();

app.Run();</code></pre>

                <h2>Passo 4: Executar as Migrations</h2>
                <pre><code class="language-bash"># Adicionar migration inicial
dotnet ef migrations add InitialGrydAuth

# Aplicar migration no banco de dados
dotnet ef database update</code></pre>

                <h2>Passo 5: Proteger seus Controllers</h2>
                <pre><code class="language-csharp">using Microsoft.AspNetCore.Authorization;
using GrydAuthenticationFramework.Attributes;

[ApiController]
[Route("api/[controller]")]
[Authorize] // Requer autentica√ß√£o
public class ProductsController : ControllerBase
{
    [HttpGet]
    [RequirePermission("products:read")] // Requer permiss√£o espec√≠fica
    public async Task&lt;IActionResult&gt; GetProducts()
    {
        // Seu c√≥digo aqui
        return Ok(new { message = "Lista de produtos" });
    }

    [HttpPost]
    [RequirePermission("products:create")]
    public async Task&lt;IActionResult&gt; CreateProduct([FromBody] CreateProductDto dto)
    {
        // Seu c√≥digo aqui
        return Ok(new { message = "Produto criado" });
    }

    [HttpDelete("{id}")]
    [RequireRole("Admin")] // Requer role espec√≠fica
    public async Task&lt;IActionResult&gt; DeleteProduct(int id)
    {
        // Seu c√≥digo aqui
        return Ok(new { message = $"Produto {id} deletado" });
    }
}</code></pre>

                <h2>Passo 6: Configurar o Frontend (Opcional)</h2>
                <p>Para integra√ß√£o com frontend, use os endpoints de autentica√ß√£o:</p>

                <h3>Login Tradicional</h3>
                <pre><code class="language-javascript">// Login com email/senha
const loginResponse = await fetch('/api/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'user@example.com',
    password: 'password123',
    rememberMe: true
  })
});

const { accessToken, refreshToken, user } = await loginResponse.json();</code></pre>

                <h3>Login Social</h3>
                <pre><code class="language-javascript">// Login com Google
const socialLoginResponse = await fetch('/api/auth/social-login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    provider: 'google',
    accessToken: 'google-access-token-aqui'
  })
});

const { accessToken, user } = await socialLoginResponse.json();</code></pre>

                <h2>Passo 7: Testar a Configura√ß√£o</h2>
                
                <h3>1. Executar a aplica√ß√£o</h3>
                <pre><code class="language-bash">dotnet run</code></pre>

                <h3>2. Acessar o Swagger</h3>
                <p>Navegue para <code>https://localhost:5001/swagger</code> para ver todos os endpoints dispon√≠veis.</p>

                <h3>3. Testar autentica√ß√£o</h3>
                <pre><code class="language-bash"># Teste de login
curl -X POST "https://localhost:5001/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "password": "Admin123!",
    "rememberMe": true
  }'</code></pre>

                <h2>Pr√≥ximos Passos</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                        <h3 class="font-semibold text-green-800 mb-2">üîß Configura√ß√£o Avan√ßada</h3>
                        <p class="text-sm text-green-600 mb-3">Configure m√∫ltiplas aplica√ß√µes e provedores</p>
                        <a href="multi-app-setup.html" class="text-green-600 text-sm font-medium hover:underline">
                            Ver Multi-App Setup ‚Üí
                        </a>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                        <h3 class="font-semibold text-blue-800 mb-2">üîê Auth0 Detalhado</h3>
                        <p class="text-sm text-blue-600 mb-3">Configura√ß√£o completa do Auth0</p>
                        <a href="auth0-integration.html" class="text-blue-600 text-sm font-medium hover:underline">
                            Ver Auth0 Integration ‚Üí
                        </a>
                    </div>
                    
                    <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                        <h3 class="font-semibold text-purple-800 mb-2">üéÆ API Reference</h3>
                        <p class="text-sm text-purple-600 mb-3">Documenta√ß√£o completa dos endpoints</p>
                        <a href="controllers.html" class="text-purple-600 text-sm font-medium hover:underline">
                            Ver Controllers ‚Üí
                        </a>
                    </div>
                    
                    <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                        <h3 class="font-semibold text-yellow-800 mb-2">üí° Exemplos Pr√°ticos</h3>
                        <p class="text-sm text-yellow-600 mb-3">Implementa√ß√µes completas de exemplo</p>
                        <a href="usage-examples.html" class="text-yellow-600 text-sm font-medium hover:underline">
                            Ver Usage Examples ‚Üí
                        </a>
                    </div>
                </div>

                <h2>Solu√ß√£o de Problemas</h2>
                
                <h3>Erro de Connection String</h3>
                <p>Se voc√™ receber erros de conex√£o com banco de dados:</p>
                <pre><code class="language-bash"># Verificar se o SQL Server est√° rodando
services.msc

# Ou usar SQLite para testes r√°pidos
dotnet add package Microsoft.EntityFrameworkCore.Sqlite</code></pre>

                <h3>Erro de Auth0</h3>
                <p>Se voc√™ receber erros de configura√ß√£o do Auth0:</p>
                <ul>
                    <li>Verifique se o Domain est√° correto</li>
                    <li>Confirme se o ClientId e ClientSecret est√£o v√°lidos</li>
                    <li>Certifique-se que o Audience est√° configurado no Auth0</li>
                </ul>

                <h3>Erro de JWT</h3>
                <p>Se voc√™ receber erros de token JWT:</p>
                <ul>
                    <li>Verifique se a SecretKey tem pelo menos 256 bits</li>
                    <li>Confirme se o Issuer e Audience est√£o corretos</li>
                    <li>Verifique se o token n√£o expirou</li>
                </ul>
            </div>
        </div>
    </div>

    <script>hljs.highlightAll();</script>
</body>
</html>
