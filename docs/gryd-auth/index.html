<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrydAuth Framework - Smart Federation Authentication</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAA">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .nav-link.active { 
            background-color: #d1fae5; 
            color: #065f46; 
            font-weight: 500; 
        }
        .nav-link:hover { 
            background-color: #f3f4f6; 
        }
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'Monaco', 'Menlo', monospace;
            overflow-x: auto;
        }
        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .tab-button.active {
            border-bottom-color: #10b981;
            color: #10b981;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50 flex">
    <!-- Sidebar Navigation -->
    <nav class="w-80 bg-white shadow-lg min-h-screen fixed overflow-y-auto">
        <div class="p-6">
            <!-- Header -->
            <div class="flex items-center mb-8">
                <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-3">
                    <span class="text-white text-lg font-bold">ğŸ”</span>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-gray-800">GrydAuth</h2>
                    <p class="text-xs text-gray-500">Smart Federation Framework</p>
                </div>
            </div>
            
            <div class="space-y-6">
                <!-- Getting Started -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">ğŸš€ Getting Started</h3>
                    <div class="space-y-1">
                        <a href="#overview" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md active">
                            ğŸ“‹ Overview
                        </a>
                        <a href="installation.html" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“¦ Installation & Setup
                        </a>
                        <a href="#integration-flow" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“– Integration Flow
                        </a>
                        <a href="#quick-start" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            âš¡ Quick Start Guide
                        </a>
                    </div>
                </div>

                <!-- Configuration -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">âš™ï¸ Configuration</h3>
                    <div class="space-y-1">
                        <a href="#configuration-setup" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ”§ Configuration Setup
                        </a>
                        <a href="#environment-variables" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸŒ Environment Variables
                        </a>
                        <a href="#dependency-injection" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ’‰ Dependency Injection
                        </a>
                    </div>
                </div>

                <!-- Auth Providers -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">ğŸ” Auth Providers</h3>
                    <div class="space-y-1">
                        <a href="#auth0-integration" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ”— Auth0 Integration
                        </a>
                        <a href="#social-providers" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“± Social Providers
                        </a>
                        <a href="#custom-providers" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ› ï¸ Custom Providers
                        </a>
                    </div>
                </div>

                <!-- Core Features -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">âœ¨ Core Features</h3>
                    <div class="space-y-1">
                        <a href="#jwt-management" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ« JWT Management
                        </a>
                        <a href="#auto-permissions" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ” Auto-Permissions
                        </a>
                        <a href="#role-based-access" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ‘¥ Role-Based Access
                        </a>
                        <a href="#multi-tenant" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ¢ Multi-Tenant Support
                        </a>
                        <a href="#security-features" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ›¡ï¸ Security Features
                        </a>
                        <a href="#caching-system" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ’¾ Caching System
                        </a>
                        <a href="#middleware" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ”„ Middleware
                        </a>
                    </div>
                </div>

                <!-- API Reference -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">ğŸ® API Reference</h3>
                    <div class="space-y-1">
                        <a href="#controllers" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ¯ Controllers
                        </a>
                        <a href="#services" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ”§ Services
                        </a>
                        <a href="#entities" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“Š Entities & Models
                        </a>
                        <a href="#dtos" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“‹ DTOs & Requests
                        </a>
                    </div>
                </div>

                <!-- Architecture -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">ğŸ—ï¸ Architecture</h3>
                    <div class="space-y-1">
                        <a href="architecture.html" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“ Architecture Overview
                        </a>
                        <a href="#clean-architecture" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ§¹ Clean Architecture
                        </a>
                        <a href="#domain-driven-design" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ¯ Domain Driven Design
                        </a>
                        <a href="#security-patterns" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ”’ Security Patterns
                        </a>
                    </div>
                </div>

                <!-- Code Documentation -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-3">ğŸ“š Code Documentation</h3>
                    <div class="space-y-1">
                        <a href="code-documentation.html" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ—ï¸ Infrastructure Services
                        </a>
                        <a href="code-documentation.html#application-services" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ“± Application Services
                        </a>
                        <a href="code-documentation.html#domain-entities" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ¯ Domain Entities
                        </a>
                        <a href="code-documentation.html#api-controllers" class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md">
                            ğŸ® API Controllers
                        </a>
                    </div>
                </div>
            </div>

            <!-- Back to Main -->
            <div class="mt-8 pt-6 border-t border-gray-200">
                <a href="../../index.html" class="flex items-center text-gray-600 hover:text-gray-800 transition">
                    <span class="mr-2">â†</span>
                    <span class="text-sm">Voltar para Gryd Docs</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 ml-80 p-8">
        <!-- Hero Section -->
        <div class="gradient-bg rounded-2xl p-8 mb-8 text-white" id="overview">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-4xl font-bold mb-4">GrydAuth Framework</h1>
                    <p class="text-xl opacity-90 mb-6">Smart Federation Authentication System for .NET 9</p>
                    <div class="flex space-x-4">
                        <span class="bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm">
                            ğŸš€ Enterprise-Ready
                        </span>
                        <span class="bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm">
                            ğŸ”’ Zero-Trust Security
                        </span>
                        <span class="bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm">
                            ğŸ¢ Multi-Tenant
                        </span>
                    </div>
                </div>
                <div class="text-6xl opacity-50">
                    ğŸ”
                </div>
            </div>
            
            <!-- Quick Stats -->
            <div class="grid grid-cols-4 gap-6 mt-8 pt-8 border-t border-white border-opacity-20">
                <div class="text-center">
                    <div class="text-2xl font-bold">12</div>
                    <div class="text-sm opacity-80">Infrastructure Services</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">5</div>
                    <div class="text-sm opacity-80">Application Services</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">4</div>
                    <div class="text-sm opacity-80">API Controllers</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">9</div>
                    <div class="text-sm opacity-80">Domain Entities</div>
                </div>
            </div>
        </div>

        <!-- Features Overview -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">Principais Funcionalidades</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- JWT Management -->
                <div class="bg-white rounded-xl shadow-lg p-6 feature-card">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                            ğŸ«
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">JWT Management</h3>
                    </div>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ Stateless Refresh Tokens</li>
                        <li>â€¢ RSA Encryption/Decryption</li>
                        <li>â€¢ Token Enrichment</li>
                        <li>â€¢ Claims Building</li>
                        <li>â€¢ Auto Token Rotation</li>
                    </ul>
                </div>

                <!-- Auto-Permissions -->
                <div class="bg-white rounded-xl shadow-lg p-6 feature-card">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3">
                            ğŸ”
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Auto-Permissions</h3>
                    </div>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ Automatic Permission Generation</li>
                        <li>â€¢ Role-Based Access Control</li>
                        <li>â€¢ Permission Inheritance</li>
                        <li>â€¢ Dynamic Authorization</li>
                        <li>â€¢ Fine-Grained Control</li>
                    </ul>
                </div>

                <!-- Multi-Tenant -->
                <div class="bg-white rounded-xl shadow-lg p-6 feature-card">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
                            ğŸ¢
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Multi-Tenant</h3>
                    </div>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ Tenant Context Resolution</li>
                        <li>â€¢ Data Isolation</li>
                        <li>â€¢ Tenant-Specific Config</li>
                        <li>â€¢ Cross-Tenant Security</li>
                        <li>â€¢ Scalable Architecture</li>
                    </ul>
                </div>

                <!-- Security Features -->
                <div class="bg-white rounded-xl shadow-lg p-6 feature-card">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                            ğŸ›¡ï¸
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Security Features</h3>
                    </div>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ Argon2id Password Hashing</li>
                        <li>â€¢ Zero-Trust Security</li>
                        <li>â€¢ Circuit Breaker Pattern</li>
                        <li>â€¢ Rate Limiting</li>
                        <li>â€¢ Security Headers</li>
                    </ul>
                </div>

                <!-- Caching System -->
                <div class="bg-white rounded-xl shadow-lg p-6 feature-card">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center mr-3">
                            ğŸ’¾
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Caching System</h3>
                    </div>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ Redis Cache Support</li>
                        <li>â€¢ In-Memory Fallback</li>
                        <li>â€¢ Cache Invalidation</li>
                        <li>â€¢ Performance Optimization</li>
                        <li>â€¢ Distributed Caching</li>
                    </ul>
                </div>

                <!-- Auth0 Integration -->
                <div class="bg-white rounded-xl shadow-lg p-6 feature-card">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center mr-3">
                            ğŸ”—
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Auth0 Integration</h3>
                    </div>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ Social Login Providers</li>
                        <li>â€¢ User Management</li>
                        <li>â€¢ Profile Synchronization</li>
                        <li>â€¢ Enterprise SSO</li>
                        <li>â€¢ Identity Federation</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Installation & Setup Section -->
        <section class="mb-12" id="installation">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">ğŸ“¦ Installation & Setup</h2>
            
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-6">1. Prerequisites</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-800 mb-2">Required</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>â€¢ .NET 9.0 SDK or later</li>
                            <li>â€¢ Visual Studio 2022 / VS Code</li>
                            <li>â€¢ SQL Server / PostgreSQL</li>
                            <li>â€¢ Auth0 Account (optional)</li>
                        </ul>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-800 mb-2">Optional</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>â€¢ Redis Server (for caching)</li>
                            <li>â€¢ Docker (for containerization)</li>
                            <li>â€¢ Azure Key Vault</li>
                            <li>â€¢ Application Insights</li>
                        </ul>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 mb-6">2. NuGet Packages</h3>
                <div class="code-block mb-8">
<pre>dotnet add package GrydAuth.API
dotnet add package GrydAuth.Application  
dotnet add package GrydAuth.Domain
dotnet add package GrydAuth.Infrastructure
dotnet add package GrydAuth.Infrastructure.Auth0</pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 mb-6">3. Database Setup</h3>
                <div class="code-block mb-8">
<pre># Create database
dotnet ef database update

# Or using script
dotnet ef migrations script --output migration.sql</pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-800 mb-6">4. Configuration Setup</h3>
                <div class="code-block">
<pre>{
  "GrydAuth": {
    "JwtSettings": {
      "SecretKey": "your-super-secret-key-here",
      "Issuer": "GrydAuth",
      "Audience": "GrydAuth-API",
      "ExpirationMinutes": 60
    },
    "Auth0": {
      "Domain": "your-domain.auth0.com",
      "ClientId": "your-client-id",
      "ClientSecret": "your-client-secret",
      "Audience": "your-api-identifier"
    },
    "Redis": {
      "ConnectionString": "localhost:6379"
    }
  }
}</pre>
                </div>
            </div>
        </section>

        <!-- Integration Flow Section -->
        <section class="mb-12" id="integration-flow">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">ğŸ“– Fluxo de IntegraÃ§Ã£o Frontend</h2>
            
            <div class="bg-white rounded-xl shadow-lg p-8">
                <p class="text-gray-600 mb-8">
                    Este guia demonstra como um projeto frontend (React, Angular, Vue, etc.) deve integrar completamente com o GrydAuth,
                    incluindo todas as APIs necessÃ¡rias e os retornos esperados em cada etapa.
                </p>

                <!-- Tab Navigation -->
                <div class="flex border-b border-gray-200 mb-8">
                    <button class="tab-button active" onclick="showTab('auth-flow')">ğŸ” Authentication Flow</button>
                    <button class="tab-button" onclick="showTab('user-mgmt')">ğŸ‘¥ User Management</button>
                    <button class="tab-button" onclick="showTab('permissions')">ğŸ”‘ Permissions</button>
                    <button class="tab-button" onclick="showTab('multi-tenant')">ğŸ¢ Multi-Tenant</button>
                </div>

                <!-- Authentication Flow Tab -->
                <div class="tab-content active" id="auth-flow">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6">1. Authentication Flow</h3>
                    
                    <!-- Step 1: Login -->
                    <div class="mb-8 border-l-4 border-green-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Etapa 1: Login do UsuÃ¡rio</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request POST /api/auth/login</h5>
                            <div class="code-block mb-4">
<pre>{
  "email": "user@example.com",
  "password": "userPassword123",
  "tenantId": "optional-tenant-id"  // For multi-tenant
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refreshToken": "encrypted-refresh-token-here",
    "expiresAt": "2025-08-31T15:30:00Z",
    "user": {
      "id": "user-uuid",
      "email": "user@example.com",
      "firstName": "JoÃ£o",
      "lastName": "Silva",
      "roles": ["User", "Manager"],
      "permissions": ["users:read", "orders:create"],
      "tenants": [
        {
          "id": "tenant-uuid",
          "name": "Empresa ABC",
          "isActive": true
        }
      ]
    }
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Store Tokens -->
                    <div class="mb-8 border-l-4 border-blue-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Etapa 2: Armazenar Tokens</h4>
                        <div class="code-block">
<pre>// Store in secure storage (httpOnly cookies recommended)
localStorage.setItem('grydauth_access_token', data.accessToken);
localStorage.setItem('grydauth_refresh_token', data.refreshToken);
localStorage.setItem('grydauth_user', JSON.stringify(data.user));

// Set axios default headers
axios.defaults.headers.common['Authorization'] = `Bearer ${data.accessToken}`;</pre>
                        </div>
                    </div>

                    <!-- Step 3: Token Refresh -->
                    <div class="mb-8 border-l-4 border-yellow-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Etapa 3: Refresh Token (quando access token expira)</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request POST /api/auth/refresh</h5>
                            <div class="code-block mb-4">
<pre>{
  "refreshToken": "encrypted-refresh-token-here"
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "accessToken": "new-jwt-token-here",
    "refreshToken": "new-encrypted-refresh-token",
    "expiresAt": "2025-08-31T16:30:00Z"
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Authorization Check -->
                    <div class="mb-8 border-l-4 border-purple-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Etapa 4: VerificaÃ§Ã£o de PermissÃµes</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request GET /api/permissions/check</h5>
                            <div class="code-block mb-4">
<pre>GET /api/permissions/check?permission=users:create&resource=users
Authorization: Bearer your-jwt-token</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "hasPermission": true,
    "permission": "users:create",
    "resource": "users",
    "userId": "user-uuid",
    "tenantId": "tenant-uuid"
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Step 5: Logout -->
                    <div class="border-l-4 border-red-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Etapa 5: Logout</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request POST /api/auth/logout</h5>
                            <div class="code-block mb-4">
<pre>POST /api/auth/logout
Authorization: Bearer your-jwt-token

{
  "refreshToken": "encrypted-refresh-token-here"
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "message": "Logout successful"
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ§¹ Frontend Cleanup</h5>
                            <div class="code-block">
<pre>// Clear all stored data
localStorage.removeItem('grydauth_access_token');
localStorage.removeItem('grydauth_refresh_token');
localStorage.removeItem('grydauth_user');
delete axios.defaults.headers.common['Authorization'];</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- User Management Tab -->
                <div class="tab-content" id="user-mgmt">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6">2. User Management APIs</h3>
                    
                    <!-- Get Current User -->
                    <div class="mb-8 border-l-4 border-green-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Obter UsuÃ¡rio Atual</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request GET /api/users/me</h5>
                            <div class="code-block mb-4">
<pre>GET /api/users/me
Authorization: Bearer your-jwt-token</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "id": "user-uuid",
    "email": "user@example.com",
    "firstName": "JoÃ£o",
    "lastName": "Silva",
    "isActive": true,
    "lastLoginAt": "2025-08-31T14:30:00Z",
    "createdAt": "2025-01-15T10:00:00Z",
    "roles": [
      {
        "id": "role-uuid",
        "name": "Manager",
        "permissions": ["users:read", "users:create"]
      }
    ],
    "tenants": [
      {
        "id": "tenant-uuid",
        "name": "Empresa ABC",
        "isActive": true,
        "role": "Admin"
      }
    ]
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Update User Profile -->
                    <div class="mb-8 border-l-4 border-blue-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Atualizar Perfil</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request PUT /api/users/me</h5>
                            <div class="code-block mb-4">
<pre>PUT /api/users/me
Authorization: Bearer your-jwt-token

{
  "firstName": "JoÃ£o Updated",
  "lastName": "Silva Updated",
  "phoneNumber": "+55 11 99999-9999"
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "id": "user-uuid",
    "email": "user@example.com",
    "firstName": "JoÃ£o Updated",
    "lastName": "Silva Updated",
    "phoneNumber": "+55 11 99999-9999",
    "updatedAt": "2025-08-31T15:00:00Z"
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Change Password -->
                    <div class="mb-8 border-l-4 border-yellow-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Alterar Senha</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request POST /api/users/change-password</h5>
                            <div class="code-block mb-4">
<pre>POST /api/users/change-password
Authorization: Bearer your-jwt-token

{
  "currentPassword": "currentPassword123",
  "newPassword": "newPassword123",
  "confirmPassword": "newPassword123"
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "message": "Password changed successfully"
}</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Permissions Tab -->
                <div class="tab-content" id="permissions">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6">3. Permissions & Roles APIs</h3>
                    
                    <!-- Get User Permissions -->
                    <div class="mb-8 border-l-4 border-purple-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Obter PermissÃµes do UsuÃ¡rio</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request GET /api/permissions/my-permissions</h5>
                            <div class="code-block mb-4">
<pre>GET /api/permissions/my-permissions?tenantId=tenant-uuid
Authorization: Bearer your-jwt-token</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "userId": "user-uuid",
    "tenantId": "tenant-uuid",
    "permissions": [
      {
        "name": "users:read",
        "resource": "users",
        "action": "read",
        "source": "role", // or "direct"
        "roleName": "Manager"
      },
      {
        "name": "orders:create",
        "resource": "orders", 
        "action": "create",
        "source": "direct",
        "roleName": null
      }
    ],
    "roles": [
      {
        "id": "role-uuid",
        "name": "Manager",
        "tenantId": "tenant-uuid"
      }
    ]
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Check Specific Permission -->
                    <div class="mb-8 border-l-4 border-indigo-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Verificar PermissÃ£o EspecÃ­fica</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request GET /api/permissions/check</h5>
                            <div class="code-block mb-4">
<pre>GET /api/permissions/check?permission=users:delete&tenantId=tenant-uuid
Authorization: Bearer your-jwt-token</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "hasPermission": false,
    "permission": "users:delete",
    "userId": "user-uuid",
    "tenantId": "tenant-uuid",
    "reason": "Permission not found in user roles or direct permissions"
  }
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Get Available Roles -->
                    <div class="border-l-4 border-green-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Obter Roles DisponÃ­veis</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request GET /api/roles</h5>
                            <div class="code-block mb-4">
<pre>GET /api/roles?tenantId=tenant-uuid
Authorization: Bearer your-jwt-token</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": [
    {
      "id": "role-uuid-1",
      "name": "Admin",
      "description": "Full system access",
      "tenantId": "tenant-uuid",
      "permissionCount": 25,
      "userCount": 3,
      "isActive": true
    },
    {
      "id": "role-uuid-2", 
      "name": "Manager",
      "description": "Limited admin access",
      "tenantId": "tenant-uuid",
      "permissionCount": 15,
      "userCount": 8,
      "isActive": true
    }
  ]
}</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Multi-Tenant Tab -->
                <div class="tab-content" id="multi-tenant">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6">4. Multi-Tenant APIs</h3>
                    
                    <!-- Get User Tenants -->
                    <div class="mb-8 border-l-4 border-orange-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Obter Tenants do UsuÃ¡rio</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request GET /api/users/my-tenants</h5>
                            <div class="code-block mb-4">
<pre>GET /api/users/my-tenants
Authorization: Bearer your-jwt-token</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": [
    {
      "id": "tenant-uuid-1",
      "name": "Empresa ABC Ltda",
      "domain": "empresa-abc.com",
      "isActive": true,
      "userRole": "Admin",
      "joinedAt": "2025-01-15T10:00:00Z",
      "settings": {
        "allowSocialLogin": true,
        "requireMFA": false,
        "sessionTimeout": 480
      }
    },
    {
      "id": "tenant-uuid-2",
      "name": "Empresa XYZ S.A",
      "domain": "empresa-xyz.com", 
      "isActive": true,
      "userRole": "User",
      "joinedAt": "2025-02-01T14:30:00Z",
      "settings": {
        "allowSocialLogin": false,
        "requireMFA": true,
        "sessionTimeout": 240
      }
    }
  ]
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- Switch Tenant Context -->
                    <div class="mb-8 border-l-4 border-red-500 pl-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Trocar Contexto de Tenant</h4>
                        
                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¤ Request POST /api/auth/switch-tenant</h5>
                            <div class="code-block mb-4">
<pre>POST /api/auth/switch-tenant
Authorization: Bearer your-jwt-token

{
  "tenantId": "tenant-uuid-2"
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ“¥ Response (Success 200)</h5>
                            <div class="code-block">
<pre>{
  "success": true,
  "data": {
    "accessToken": "new-jwt-with-tenant-context",
    "refreshToken": "new-encrypted-refresh-token",
    "expiresAt": "2025-08-31T16:30:00Z",
    "currentTenant": {
      "id": "tenant-uuid-2",
      "name": "Empresa XYZ S.A",
      "userRole": "User",
      "permissions": ["orders:read", "products:read"]
    }
  }
}</pre>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h5 class="font-medium text-gray-700 mb-2">ğŸ”„ Update Frontend State</h5>
                            <div class="code-block">
<pre>// Update stored tokens with new tenant context
localStorage.setItem('grydauth_access_token', data.accessToken);
localStorage.setItem('grydauth_refresh_token', data.refreshToken);
localStorage.setItem('grydauth_current_tenant', JSON.stringify(data.currentTenant));

// Update axios headers
axios.defaults.headers.common['Authorization'] = `Bearer ${data.accessToken}`;

// Refresh application state based on new tenant permissions</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Start Guide -->
        <section class="mb-12" id="quick-start">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">âš¡ Quick Start Guide</h2>
            
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Backend Setup -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-6">ğŸ”§ Backend Setup</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-2">1. Add to Program.cs</h4>
                                <div class="code-block text-sm">
<pre>builder.Services.AddGrydAuth(configuration);
app.UseGrydAuth();</pre>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-2">2. Configure appsettings.json</h4>
                                <div class="code-block text-sm">
<pre>{
  "GrydAuth": {
    "JwtSettings": {
      "SecretKey": "your-secret-key"
    }
  }
}</pre>
                                </div>
                            </div>

                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-2">3. Protect Controllers</h4>
                                <div class="code-block text-sm">
<pre>[Authorize]
[GrydPermission("users:read")]
public class UsersController : ControllerBase</pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Frontend Integration -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-6">ğŸŒ Frontend Integration</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-2">1. Login Request</h4>
                                <div class="code-block text-sm">
<pre>const response = await fetch('/api/auth/login', {
  method: 'POST',
  body: JSON.stringify({
    email: 'user@example.com',
    password: 'password'
  })
});</pre>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-2">2. Store Tokens</h4>
                                <div class="code-block text-sm">
<pre>localStorage.setItem('grydauth_access_token', data.accessToken);
axios.defaults.headers.common['Authorization'] = 
  `Bearer ${data.accessToken}`;</pre>
                                </div>
                            </div>

                            <div class="p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-2">3. Check Permissions</h4>
                                <div class="code-block text-sm">
<pre>const hasPermission = await checkPermission('users:create');
if (hasPermission) {
  // Show create button
}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Common Integration Patterns -->
                <div class="mt-8 pt-8 border-t border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6">ğŸ”— Common Integration Patterns</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-medium text-blue-800 mb-2">ğŸ”„ Auto Token Refresh</h4>
                            <p class="text-sm text-blue-600">Implement interceptors to automatically refresh tokens on 401 responses</p>
                        </div>
                        
                        <div class="p-4 bg-green-50 rounded-lg">
                            <h4 class="font-medium text-green-800 mb-2">ğŸ›¡ï¸ Route Guards</h4>
                            <p class="text-sm text-green-600">Create route guards that check permissions before navigation</p>
                        </div>
                        
                        <div class="p-4 bg-purple-50 rounded-lg">
                            <h4 class="font-medium text-purple-800 mb-2">ğŸ¢ Tenant Context</h4>
                            <p class="text-sm text-purple-600">Maintain tenant context throughout the application session</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-gray-200 pt-8 mt-16">
            <div class="text-center text-gray-600">
                <p class="text-sm">
                    ğŸ“š GrydAuth Framework Documentation - VersÃ£o 1.0.0
                </p>
                <p class="text-xs mt-2">
                    Ãšltima atualizaÃ§Ã£o: 31 de agosto de 2025
                </p>
            </div>
        </footer>
    </main>

    <script>
        // Tab switching functionality
        function showTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Smooth scrolling for navigation links
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Smooth scroll to target section
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Highlight current section in navigation
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        const navLink = document.querySelector(`a[href="#${id}"]`);
                        
                        if (navLink) {
                            navLinks.forEach(l => l.classList.remove('active'));
                            navLink.classList.add('active');
                        }
                    }
                });
            }, {
                rootMargin: '-20% 0px -80% 0px'
            });

            // Observe all sections
            document.querySelectorAll('section[id], div[id]').forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
